{
   "apiVersion": "redhatcop.redhat.io/v1alpha1",
   "kind": "DatabaseSecretEngineConfig",
   "metadata": {
      "name": "postgres",
      "namespace": "vault"
   },
   "spec": {
      "allowedRoles": [
         "*"
      ],
      "authentication": {
         "path": "kubernetes",
         "role": "operator"
      },
      "connectionURL": "postgresql://{{username}}:{{password}}@postgresql.test.wirywolf.com/postgres?sslmode=require",
      "path": "databases/postgresql",
      "pluginName": "postgresql-database-plugin",
      "rootCredentials": {
         "passwordKey": "password",
         "secret": {
            "name": "postgres-initial-creds"
         },
         "usernameKey": "username"
      },
      "rootPasswordRotation": {
         "enable": true,
         "rotationPeriod": "168h"
      },
      "verifyConnection": true
   }
}
