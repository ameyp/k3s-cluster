[
   {
      "apiVersion": "v1",
      "kind": "PersistentVolumeClaim",
      "metadata": {
         "name": "mariadb-data",
         "namespace": "databases"
      },
      "spec": {
         "accessModes": [
            "ReadWriteMany"
         ],
         "resources": {
            "requests": {
               "storage": "2Gi"
            }
         },
         "storageClassName": "longhorn"
      }
   },
   {
      "apiVersion": "v1",
      "data": {
         "config.cnf": "[mariadb]\nssl_cert = /certs/tls.crt\nssl_key = /certs/tls.key\n# Not required by default because vault doesn't support it.\n# https://github.com/hashicorp/vault/issues/6444\n# require_secure_transport = on\n"
      },
      "kind": "ConfigMap",
      "metadata": {
         "name": "mariadb-config",
         "namespace": "databases"
      }
   },
   {
      "apiVersion": "v1",
      "kind": "Service",
      "metadata": {
         "name": "mariadb",
         "namespace": "databases"
      },
      "spec": {
         "loadBalancerIP": "192.168.1.214",
         "ports": [
            {
               "name": "tcp",
               "port": 3306,
               "targetPort": 3306
            }
         ],
         "selector": {
            "app.kubernetes.io/name": "mariadb"
         },
         "type": "LoadBalancer"
      }
   }
]
